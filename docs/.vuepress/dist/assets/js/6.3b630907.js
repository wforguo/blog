(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{206:function(t,a,e){"use strict";e.r(a);var s=e(0),i=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"手把手教你搭建jenkins-github持续集成环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#手把手教你搭建jenkins-github持续集成环境"}},[t._v("#")]),t._v(" 手把手教你搭建Jenkins+Github持续集成环境")]),t._v(" "),e("h2",{attrs:{id:"_1-安装jenkins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装jenkins"}},[t._v("#")]),t._v(" 1.安装jenkins")]),t._v(" "),e("h3",{attrs:{id:"环境：centos-7-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境：centos-7-0"}},[t._v("#")]),t._v(" 环境："),e("code",[t._v("CentOS 7.0")])]),t._v(" "),e("h3",{attrs:{id:"安装方式："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装方式："}},[t._v("#")]),t._v(" 安装方式：")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" yum-fastestmirror -y  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#安装自动选择最快源的插件")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#添加Jenkins源:")]),t._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("wget")]),t._v(" -O /etc/yum.repos.d/jenkins.repo http://jenkins-ci.org/redhat/jenkins.repo\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key\n$ yum "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" jenkins               "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#安装jenkins")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("h3",{attrs:{id:"启动方式："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动方式："}},[t._v("#")]),t._v(" 启动方式：")]),t._v(" "),e("p",[e("code",[t._v("$ sudo service jenkins start")])]),t._v(" "),e("h3",{attrs:{id:"访问方式："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#访问方式："}},[t._v("#")]),t._v(" 访问方式：")]),t._v(" "),e("p",[t._v("浏览器输入"),e("code",[t._v("http://your server ip:8080/")])]),t._v(" "),e("h3",{attrs:{id:"更改配置（如端口）方式："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更改配置（如端口）方式："}},[t._v("#")]),t._v(" 更改配置（如端口）方式：")]),t._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" /etc/sysconfig/jenkins\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" jenkins restart\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h2",{attrs:{id:"_2-jenkins基础配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-jenkins基础配置"}},[t._v("#")]),t._v(" 2.jenkins基础配置")]),t._v(" "),e("h3",{attrs:{id:"unlock"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#unlock"}},[t._v("#")]),t._v(" Unlock")]),t._v(" "),e("p",[t._v("经过上面的配置，你可以访问你的Jenkins了，在浏览器中输入："),e("code",[t._v("http://your server ip:8080/")]),t._v("，效果如下：")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-d93724fadf9ab855.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("按照提示我们执行"),e("code",[t._v("cat /var/lib/jenkins/secrets/initialAdminPassword")]),t._v("得到"),e("code",[t._v("Administrator password")]),t._v("，输入后点击Continue，如下：")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-47a485249b5741b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("选择"),e("code",[t._v("install suggested plugins")]),t._v("，等待安装完毕，如果有安装失败的可以跳过，之后可以手动根据需求安装。")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-72114d3f8f7a42c9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("h3",{attrs:{id:"设置初始账户和密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置初始账户和密码"}},[t._v("#")]),t._v(" 设置初始账户和密码")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-7e1e1d4a0317292e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("设置完成后进入界面：")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-6a2a1d6ab190eca4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_3-github配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-github配置"}},[t._v("#")]),t._v(" 3.github配置")]),t._v(" "),e("h3",{attrs:{id:"sercret-text"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sercret-text"}},[t._v("#")]),t._v(" sercret text")]),t._v(" "),e("p",[t._v("注：此处需要一个对项目有写权限的账户")]),t._v(" "),e("blockquote",[e("p",[t._v("进入github --\x3e setting --\x3e Personal Access Token --\x3e Generate new token")])]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-6c844d8a6bb58800.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/436630-943711ff2a74919d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("自己先保存此"),e("code",[t._v("token")]),t._v("，如果丢失，之后再也无法找到这个"),e("code",[t._v("token")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"github-webhooks-设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#github-webhooks-设置"}},[t._v("#")]),t._v(" GitHub webhooks 设置")]),t._v(" "),e("blockquote",[e("p",[t._v("进入GitHub上指定的项目 --\x3e setting --\x3e WebHooks&Services --\x3e add webhook --\x3e 输入刚刚部署jenkins的服务器的IP")])]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/436630-1dbb649d8ae063b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_4-jenkins的github配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-jenkins的github配置"}},[t._v("#")]),t._v(" 4.jenkins的github配置")]),t._v(" "),e("h3",{attrs:{id:"安装github-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装github-plugin"}},[t._v("#")]),t._v(" 安装GitHub Plugin")]),t._v(" "),e("blockquote",[e("p",[t._v("系统管理--\x3e插件管理--\x3e可选插件")])]),t._v(" "),e("p",[t._v("直接安装Github Plugin, jenkins会自动帮你解决其他插件的依赖，直接安装该插件Jenkins会自动帮你安装plain-credentials 、"),e("a",{attrs:{href:"http://lib.csdn.net/base/git",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),e("OutboundLink")],1),t._v(" 、 credentials 、 github-api")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/436630-ff8c8744ed7ade0d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("h3",{attrs:{id:"配置github-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置github-plugin"}},[t._v("#")]),t._v(" 配置GitHub Plugin")]),t._v(" "),e("blockquote",[e("p",[t._v("系统管理 --\x3e 系统设置 --\x3e GitHub --\x3e Add GitHub Sever")])]),t._v(" "),e("p",[t._v("如下图所示")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-df2c88b65c841fa6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("API URL 输入 "),e("code",[t._v("https://api.github.com")]),t._v("，Credentials点击Add添加，Kind选择Secret Text,具体如下图所示。")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-547c6e295e263296.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("设置完成后，点击"),e("code",[t._v("TestConnection")]),t._v(",提示"),e("code",[t._v("Credentials verified for user UUserName, rate limit: xxx")]),t._v(",则表明有效。")]),t._v(" "),e("h3",{attrs:{id:"创建一个freestyle任务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建一个freestyle任务"}},[t._v("#")]),t._v(" 创建一个freestyle任务")]),t._v(" "),e("p",[t._v("- General 设置\n填写GitHub project URL, 也就是你的项目主页\neg. "),e("code",[t._v("https://github.com/your_name/your_repo_name")])]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-7c250beb46759edf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("- 配置源码管理")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-9d7836236cbf989b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("ol",[e("li",[t._v("填写项目的git地址, eg. "),e("code",[t._v("https://github.com/your_name/your_repo_name.git")])]),t._v(" "),e("li",[t._v("添加github用户和密码")]),t._v(" "),e("li",[t._v("选择githubweb源码库浏览器，并填上你的项目URL，这样每次构建都会生成对应的changes，可直接链到github上看变更详情")])]),t._v(" "),e("p",[t._v("- 构建触发器，构建环境")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-9906f0e72e95a468.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("- 构建")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-a84115bff915a637.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("- 构建后操作")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-e8678da6c93bc25c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("最后点击保存即可")]),t._v(" "),e("h2",{attrs:{id:"_5-测试效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-测试效果"}},[t._v("#")]),t._v(" 5.测试效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"http://lib.csdn.net/base/softwaretest",target:"_blank",rel:"noopener noreferrer"}},[t._v("测试"),e("OutboundLink")],1),t._v("效果1")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-57dca991dbff5808.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("p",[t._v("测试效果2")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/2518611-a10aefcc8035bb5e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240",alt:"img"}})]),t._v(" "),e("h2",{attrs:{id:"_6-参考："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-参考："}},[t._v("#")]),t._v(" 6.参考：")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"http://www.jianshu.com/p/b2ed4d23a3a9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins+Github持续集成"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"http://www.cnblogs.com/itech/archive/2011/11/23/2260009.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jenkins入门总结"),e("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=i.exports}}]);